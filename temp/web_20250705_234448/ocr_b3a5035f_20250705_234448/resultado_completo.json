{
  "execution_id": "b3a5035f",
  "timestamp": "20250705_234448",
  "input_image": "uploads/20250705_234448_04_procesamiento_final1.png",
  "temp_directory": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.208,
      "diagnostico": {
        "imagen_info": {
          "ancho": 720,
          "alto": 879,
          "resolucion_total": 632880,
          "canales": 1,
          "modo": "L",
          "formato": "PNG",
          "brillo_promedio": 205.57661009986094,
          "desviacion_brillo": 48.28762971222334,
          "rango_dinamico": 255.0,
          "histogram": [
            19062.0,
            95.0,
            100.0,
            94.0,
            79.0,
            96.0,
            91.0,
            89.0,
            101.0,
            110.0,
            71.0,
            81.0,
            83.0,
            90.0,
            75.0,
            56.0,
            54.0,
            90.0,
            66.0,
            76.0,
            65.0,
            78.0,
            64.0,
            77.0,
            90.0,
            81.0,
            70.0,
            87.0,
            85.0,
            89.0,
            77.0,
            64.0,
            70.0,
            77.0,
            65.0,
            90.0,
            65.0,
            84.0,
            68.0,
            80.0,
            66.0,
            69.0,
            82.0,
            98.0,
            95.0,
            108.0,
            113.0,
            149.0,
            1185.0,
            168.0,
            147.0,
            120.0,
            104.0,
            98.0,
            79.0,
            83.0,
            91.0,
            92.0,
            71.0,
            61.0,
            63.0,
            62.0,
            52.0,
            68.0,
            46.0,
            72.0,
            68.0,
            63.0,
            64.0,
            64.0,
            58.0,
            58.0,
            55.0,
            68.0,
            73.0,
            61.0,
            65.0,
            61.0,
            45.0,
            66.0,
            59.0,
            55.0,
            39.0,
            53.0,
            55.0,
            63.0,
            39.0,
            59.0,
            51.0,
            86.0,
            52.0,
            66.0,
            68.0,
            58.0,
            42.0,
            53.0,
            51.0,
            66.0,
            51.0,
            63.0,
            50.0,
            60.0,
            77.0,
            60.0,
            48.0,
            49.0,
            52.0,
            62.0,
            43.0,
            47.0,
            151.0,
            82.0,
            70.0,
            70.0,
            61.0,
            54.0,
            44.0,
            62.0,
            59.0,
            70.0,
            57.0,
            84.0,
            75.0,
            91.0,
            65.0,
            84.0,
            657.0,
            119.0,
            74.0,
            686.0,
            89.0,
            117.0,
            142.0,
            712.0,
            743.0,
            183.0,
            1361.0,
            931.0,
            44150.0,
            322.0,
            880.0,
            201.0,
            758.0,
            202.0,
            697.0,
            129.0,
            109.0,
            101.0,
            125.0,
            101.0,
            76.0,
            96.0,
            103.0,
            111.0,
            111.0,
            109.0,
            78.0,
            97.0,
            103.0,
            110.0,
            83.0,
            108.0,
            107.0,
            127.0,
            110.0,
            158.0,
            127.0,
            156.0,
            167.0,
            798.0,
            873.0,
            480.0,
            583.0,
            202.0,
            153.0,
            127.0,
            98.0,
            109.0,
            67.0,
            80.0,
            74.0,
            80.0,
            66.0,
            97.0,
            86.0,
            79.0,
            69.0,
            642.0,
            69.0,
            96.0,
            71.0,
            95.0,
            105.0,
            102.0,
            123.0,
            111.0,
            128.0,
            154.0,
            171.0,
            174.0,
            202.0,
            218.0,
            271.0,
            318.0,
            307.0,
            367.0,
            342.0,
            437.0,
            511.0,
            601.0,
            614.0,
            751.0,
            663.0,
            852.0,
            897.0,
            1156.0,
            1109.0,
            1260.0,
            1311.0,
            1602.0,
            4511.0,
            3856.0,
            482191.0,
            3348.0,
            3261.0,
            1654.0,
            1413.0,
            1306.0,
            1195.0,
            1212.0,
            1074.0,
            1011.0,
            883.0,
            881.0,
            752.0,
            684.0,
            1379.0,
            624.0,
            1153.0,
            585.0,
            1111.0,
            488.0,
            499.0,
            490.0,
            490.0,
            456.0,
            449.0,
            413.0,
            395.0,
            388.0,
            439.0,
            504.0,
            403.0,
            353.0,
            346.0,
            7654.0
          ],
          "histogram_analysis": {
            "picos_principales": [
              [
                222,
                482191
              ],
              [
                138,
                44150
              ]
            ],
            "rango_fondo_sugerido": 222,
            "rango_texto_sugerido": 138,
            "distribucion": {
              "oscuras": 0.04227815568447113,
              "medias": 0.09479206055402756,
              "claras": 0.8629297614097595
            },
            "requiere_inversion": false,
            "bimodal": true
          },
          "variaciones_fondo": {
            "total_regiones_analizadas": 918,
            "fondos_unicos_detectados": 6,
            "variacion_fondos": 26.02526336166065,
            "fondos_heterogeneos": true,
            "rango_fondos": [
              0,
              222
            ],
            "requiere_unificacion_avanzada": true,
            "regiones_variacion": [
              {
                "posicion": [
                  0,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  25,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  50,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  75,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  100,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  125,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  150,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  175,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  200,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              },
              {
                "posicion": [
                  225,
                  0
                ],
                "media_local": 222.0,
                "std_local": 0.0,
                "pico_fondo": 222
              }
            ]
          }
        },
        "calidad_imagen": {
          "contraste": 48.28762971222334,
          "blur_variance": 2371.1734484385374,
          "entropy": 2.029996871948242,
          "gradiente_promedio": 49.53227682386571,
          "brillo_promedio": 205.57661009986094,
          "uniformidad_brillo": 48.28762971222334,
          "calificacion_calidad": 70
        },
        "deteccion_texto": {
          "regiones_detectadas": 23,
          "area_total_texto": 162853,
          "densidad_texto": 0.2573205030969536,
          "regiones": [
            {
              "x": 244,
              "y": 778,
              "width": 21,
              "height": 29,
              "area": 609,
              "aspect_ratio": 0.7241379310344828
            },
            {
              "x": 64,
              "y": 777,
              "width": 98,
              "height": 34,
              "area": 3332,
              "aspect_ratio": 2.8823529411764706
            },
            {
              "x": 265,
              "y": 775,
              "width": 58,
              "height": 36,
              "area": 2088,
              "aspect_ratio": 1.6111111111111112
            },
            {
              "x": 475,
              "y": 774,
              "width": 183,
              "height": 34,
              "area": 6222,
              "aspect_ratio": 5.382352941176471
            },
            {
              "x": 352,
              "y": 774,
              "width": 115,
              "height": 34,
              "area": 3910,
              "aspect_ratio": 3.3823529411764706
            },
            {
              "x": 441,
              "y": 710,
              "width": 60,
              "height": 27,
              "area": 1620,
              "aspect_ratio": 2.2222222222222223
            },
            {
              "x": 500,
              "y": 709,
              "width": 157,
              "height": 30,
              "area": 4710,
              "aspect_ratio": 5.233333333333333
            },
            {
              "x": 64,
              "y": 709,
              "width": 122,
              "height": 30,
              "area": 3660,
              "aspect_ratio": 4.066666666666666
            },
            {
              "x": 63,
              "y": 641,
              "width": 107,
              "height": 39,
              "area": 4173,
              "aspect_ratio": 2.7435897435897436
            },
            {
              "x": 443,
              "y": 639,
              "width": 213,
              "height": 35,
              "area": 7455,
              "aspect_ratio": 6.085714285714285
            },
            {
              "x": 500,
              "y": 574,
              "width": 79,
              "height": 27,
              "area": 2133,
              "aspect_ratio": 2.925925925925926
            },
            {
              "x": 580,
              "y": 573,
              "width": 77,
              "height": 29,
              "area": 2233,
              "aspect_ratio": 2.6551724137931036
            },
            {
              "x": 64,
              "y": 570,
              "width": 200,
              "height": 32,
              "area": 6400,
              "aspect_ratio": 6.25
            },
            {
              "x": 63,
              "y": 503,
              "width": 157,
              "height": 37,
              "area": 5809,
              "aspect_ratio": 4.243243243243243
            },
            {
              "x": 384,
              "y": 502,
              "width": 233,
              "height": 36,
              "area": 8388,
              "aspect_ratio": 6.472222222222222
            },
            {
              "x": 629,
              "y": 494,
              "width": 36,
              "height": 42,
              "area": 1512,
              "aspect_ratio": 0.8571428571428571
            },
            {
              "x": 64,
              "y": 437,
              "width": 93,
              "height": 30,
              "area": 2790,
              "aspect_ratio": 3.1
            },
            {
              "x": 479,
              "y": 435,
              "width": 178,
              "height": 33,
              "area": 5874,
              "aspect_ratio": 5.393939393939394
            },
            {
              "x": 49,
              "y": 304,
              "width": 622,
              "height": 97,
              "area": 60334,
              "aspect_ratio": 6.412371134020619
            },
            {
              "x": 333,
              "y": 230,
              "width": 54,
              "height": 54,
              "area": 2916,
              "aspect_ratio": 1.0
            }
          ],
          "cobertura_texto_porcentaje": 25.73205030969536
        },
        "ruido_artefactos": {
          "nivel_ruido": 4.212010175704715,
          "desviacion_ruido": 14.449493705078506,
          "porcentaje_pixeles_ruidosos": 5.032391606623689,
          "uniformidad": 3.346822462394135,
          "calificacion_ruido": "Moderado"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 50,
          "simetria_horizontal": 0.44994843006134033,
          "relacion_aspecto": 0.8191126279863481,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "deteccion_inteligente": {
          "tipo_imagen": "documento_escaneado",
          "esquema_color": "texto_oscuro_fondo_claro",
          "inversion_requerida": false,
          "ui_elements_detectados": true,
          "aspect_ratio": 0.8191126279863481,
          "calidad_digital": false,
          "dark_percentage": 4.760460376739502,
          "light_percentage": 95.23954010009766,
          "edge_density": 0.029362596384780684,
          "noise_estimate": 60.95668598898598,
          "confianza_deteccion": 0.4
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 80.0,
          "calidad": 70,
          "texto": 100,
          "ruido": 60,
          "geometria": 100,
          "categoria": "Excelente"
        }
      },
      "imagen_original": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_no_inversion_necesaria",
        "03_sin_procesamiento"
      ],
      "metricas_antes": {
        "brillo_promedio": 205.57661009986094,
        "contraste": 48.28762971222334,
        "nitidez": 2371.1734484385374,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "analisis_fondos": {
          "intensidad_media_original": 205.58,
          "porcentaje_fondo_oscuro": 0.041999999433755875,
          "unificacion_aplicada": false,
          "razon_no_unificacion": "preservacion_calidad_usuario"
        },
        "no_inversion": {
          "razon": "imagen_suficientemente_clara",
          "intensidad_media": 205.58
        },
        "documento_processing_eliminado": {
          "razon": "eliminado_por_solicitud_usuario",
          "bilateral_filter": false,
          "contraste_adaptativo": false,
          "binarizacion": false,
          "impacto": "preserva_imagen_original_completamente"
        }
      },
      "tiempo_procesamiento": 0.02,
      "estrategia_aplicada": "Documento Escaneado - SIN PROCESAMIENTO",
      "metricas_despues": {
        "brillo_promedio": 205.52835608646188,
        "contraste": 49.519454684409624,
        "nitidez": 3823.284658657773,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 48.29,
          "despues": 49.52,
          "cambio": 1.23,
          "porcentaje": 2.6
        },
        "nitidez": {
          "antes": 2371.17,
          "despues": 3823.28,
          "cambio": 1452.11,
          "porcentaje": 61.2
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.03,
      "archivo_resultado": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "N PagomovilBDV Personas 104,54 Bs Fecha : 20/06/ 2025 Operacion : 003039387344 I Identificacion : 27061025 Origen : 0102 **** 2679 Destino : 04125318244 Banco : 0105 = BANCO MERCANTIL",
      "total_caracteres": 183,
      "tiempo_procesamiento": 0.569,
      "metodo_extraccion": "ONNXTR_SINGLE_PASS",
      "configuracion_onnxtr": "ultra_rapido",
      "total_palabras_detectadas": 22,
      "palabras_detectadas": [
        {
          "texto": "N",
          "confianza": 0.8559145331382751,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 0
          }
        },
        {
          "texto": "PagomovilBDV",
          "confianza": 0.6603865623474121,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 0
          }
        },
        {
          "texto": "Personas",
          "confianza": 0.5152880549430847,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 1
          }
        },
        {
          "texto": "104,54",
          "confianza": 0.8877261281013489,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 2,
            "palabra": 0
          }
        },
        {
          "texto": "Bs",
          "confianza": 0.9975167512893677,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 2,
            "palabra": 1
          }
        },
        {
          "texto": "Fecha:",
          "confianza": 0.9979946613311768,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 3,
            "palabra": 0
          }
        },
        {
          "texto": "20/06/2025",
          "confianza": 0.9990633130073547,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 4,
            "palabra": 0
          }
        },
        {
          "texto": "Operacion:",
          "confianza": 0.9861154556274414,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 5,
            "palabra": 0
          }
        },
        {
          "texto": "003039387344",
          "confianza": 0.7347099483013153,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 6,
            "palabra": 0
          }
        },
        {
          "texto": "I",
          "confianza": 0.8595119714736938,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 6,
            "palabra": 2
          }
        },
        {
          "texto": "Identificacion:",
          "confianza": 0.5655030608177185,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 7,
            "palabra": 0
          }
        },
        {
          "texto": "27061025",
          "confianza": 0.9976334571838379,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 8,
            "palabra": 0
          }
        },
        {
          "texto": "Origen:",
          "confianza": 0.9992876648902893,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 9,
            "palabra": 0
          }
        },
        {
          "texto": "0102****",
          "confianza": 0.8026965260505676,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 10,
            "palabra": 0
          }
        },
        {
          "texto": "2679",
          "confianza": 0.7745231986045837,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 10,
            "palabra": 1
          }
        },
        {
          "texto": "Destino:",
          "confianza": 0.996507465839386,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 11,
            "palabra": 0
          }
        },
        {
          "texto": "04125318244",
          "confianza": 0.8986690938472748,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 12,
            "palabra": 0
          }
        },
        {
          "texto": "Banco:",
          "confianza": 0.9662455916404724,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 0
          }
        },
        {
          "texto": "0105",
          "confianza": 0.9999144077301025,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 0
          }
        },
        {
          "texto": "=",
          "confianza": 0.6995702981948853,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 1
          }
        },
        {
          "texto": "BANCO",
          "confianza": 0.8025796413421631,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 2
          }
        },
        {
          "texto": "MERCANTIL",
          "confianza": 0.9052810668945312,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 3
          }
        }
      ],
      "confianza_promedio": 0.859,
      "estadisticas_onnxtr": {
        "paginas_procesadas": 1,
        "palabras_alta_confianza": 16,
        "palabras_media_confianza": 4,
        "palabras_baja_confianza": 2,
        "min_confianza_aplicada": 0.5
      },
      "calidad_extraccion": {
        "score_calidad": 76.2,
        "categoria": "buena",
        "confianza_promedio": 0.859,
        "palabras_alta_confianza": 16,
        "total_palabras": 22,
        "longitud_texto": 183,
        "recomendaciones": [
          "Calidad de extracción satisfactoria"
        ]
      },
      "deteccion_inteligente": {
        "tipo_imagen": "documento_escaneado",
        "esquema_color": "texto_oscuro_fondo_claro",
        "inversion_requerida": false,
        "ui_elements_detectados": true,
        "aspect_ratio": 0.8191126279863481,
        "calidad_digital": false,
        "dark_percentage": 4.760460376739502,
        "light_percentage": 95.23954010009766,
        "edge_density": 0.029362596384780684,
        "noise_estimate": 60.95668598898598,
        "confianza_deteccion": 0.4
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "104,54",
            "posicion_texto": 24
          },
          {
            "valor": "20",
            "posicion_texto": 42
          },
          {
            "valor": "06",
            "posicion_texto": 45
          },
          {
            "valor": "202",
            "posicion_texto": 49
          },
          {
            "valor": "5",
            "posicion_texto": 28
          }
        ],
        "phone": [
          {
            "valor": "00303938734",
            "posicion_texto": 66
          },
          {
            "valor": "04125318244",
            "posicion_texto": 141
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 5,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 2,
          "total_elementos": 7,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 0.578,
      "archivo_resultado": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448/resultado_ocr.json",
      "archivo_texto": "temp/web_20250705_234448/ocr_b3a5035f_20250705_234448/texto_extraido.txt"
    }
  },
  "archivos_generados": [],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "720x879",
      "calidad_inicial": "Excelente",
      "puntuacion_calidad": 80.0
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 4,
      "lista_pasos": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_no_inversion_necesaria",
        "03_sin_procesamiento"
      ],
      "tiempo_procesamiento": 0.02
    },
    "resultados_ocr": {
      "caracteres_extraidos": 183,
      "palabras_detectadas": 22,
      "confianza_promedio": 0.859,
      "confianza_ponderada": 0.859,
      "calidad_extraccion": "buena"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 7,
      "completitud": 50,
      "montos_encontrados": 5,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.208,
      "tiempo_mejora": 0.03,
      "tiempo_ocr": 0.578
    },
    "calificacion_final": {
      "puntuacion": 76.7,
      "categoria": "Muy Buena",
      "componentes": {
        "calidad_imagen": 80.0,
        "confianza_ocr": 76.2,
        "completitud_datos": 75.0
      }
    },
    "recomendaciones": [
      "Error generando recomendaciones"
    ]
  },
  "tiempo_total": 0.819
}